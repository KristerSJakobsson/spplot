{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?c049","webpack:///./src/components/Controls.vue?af01","webpack:///./src/components/controls/BarrierEventControls.vue?b39b","webpack:///./src/components/utils.js","webpack:///src/components/controls/BarrierEventControls.vue","webpack:///./src/components/controls/BarrierEventControls.vue?9b17","webpack:///./src/components/controls/BarrierEventControls.vue","webpack:///./src/components/controls/AssetDataControls.vue?0480","webpack:///src/components/controls/AssetDataControls.vue","webpack:///./src/components/controls/AssetDataControls.vue?dc0f","webpack:///./src/components/controls/AssetDataControls.vue","webpack:///./src/components/controls/BasicControls.vue?6f20","webpack:///./src/components/resources.js","webpack:///src/components/controls/BasicControls.vue","webpack:///./src/components/controls/BasicControls.vue?eb49","webpack:///./src/components/controls/BasicControls.vue","webpack:///./src/components/controls/RangeAccrualControls.vue?3eee","webpack:///src/components/controls/RangeAccrualControls.vue","webpack:///./src/components/controls/RangeAccrualControls.vue?60f3","webpack:///./src/components/controls/RangeAccrualControls.vue","webpack:///./src/components/canvas/PayoffGraph.vue?cdb7","webpack:///src/components/canvas/PayoffGraph.vue","webpack:///./src/components/canvas/PayoffGraph.vue?b1d5","webpack:///./src/components/canvas/PayoffGraph.vue","webpack:///./src/components/canvas/SimulationGraph.vue?5c52","webpack:///./spplotlib/src/formatting-utils.js","webpack:///./spplotlib/src/simulation-event.js","webpack:///./spplotlib/src/simulation-model.js","webpack:///./spplotlib/src/simulation-plotter.js","webpack:///./spplotlib/spplotlib.js","webpack:///src/components/canvas/SimulationGraph.vue","webpack:///./src/components/canvas/SimulationGraph.vue?d4c8","webpack:///./src/components/canvas/SimulationGraph.vue","webpack:///src/components/Controls.vue","webpack:///./src/components/Controls.vue?2fdb","webpack:///./src/components/Controls.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","_v","_l","product","on","$event","loadDemoProduct","_s","title","payload","basicControlChange","assetDataControlChange","keyDates","startDate","finalMaturityDate","barrierEventControlChange","rangeAccrualEventControlChange","directives","rawName","modifiers","updateEvents","model","callback","$$v","numberOfIncomeEvents","expression","onChange","isMemory","event","index","validatedIncomeBarrier","barrierDataChanged","$set","year","month","day","couponType","_e","validDate","date","validCurrency","currency","parseCurrency","parsePercentage","percentage","Number","validNotional","notional","validBarrier","parseNotional","component","Boolean","rawAssetData","loadDataFile","dataFileColumns","updateAssetData","selectedDataFileColumn","validatedStartDate","validatedFinalMaturityDate","validatedStartLevel","startLevel","validatedParticipationRate","participationRate","currencyData","require","demoProducts","numberOfAccrualEvents","isLastAccrualEvent","accrualEventData","validatedLowerLevel","eventType","updatePayload","payloadJson","parseDateString","d3","formatDateString","parseDate","dateString","Date","getFullYear","getMonth","getDate","replace","formatDate","timeFormat","formatPercent","decimal","precision","Event","payoff","comment","executed","dependentEvents","FinalMaturityEvent","maturityLevel","difference","Math","max","IncomeBarrierEvent","eventDate","assetValue","barrierLevel","couponPayoff","previousEvent","checkMemoryFeature","pastEventPayoffs","pastEvent","reduce","previous","current","SimulationModel","mandatoryDates","forEach","mandatoryDate","includes","incomeBarrierEvents","incomeBarrier","parsedIncomeBarrierEvents","sort","first","second","eventAssetData","assetData","replacementDate","console","warn","incomeBarrierEvent","fixing","find","maturityData","filter","_calculate_return_events","returnEvents","concat","_parse_income_barrier_events","_parse_final_maturity_event","Y_RANGE_CLASS","X_RANGE_CLASS","X_LABEL","Y_LABEL","TRANSFORMATION_SPEED","SimulationPlotter","bindTarget","width","height","margin","svg","append","attr","left","right","top","bottom","tooltip","style","_initializeTimeScale","_initializeCouponBarrierScale","endDate","xAxis","domain","range","xRange","text","transition","duration","yAxis","yRange","tickFormat","label","yMin","yMax","identifier","strokeColor","strokeWidth","dataLine","selectAll","enter","merge","curve","x","y","existingLines","nodes","numberOfIterations","remove","fillColor","mouseover","mousemove","html","mouseleave","dots","ASSET_DATA_CLASS","START_LINE_CLASS","END_LINE_CLASS","BARRIER_EVENT_CLASS","RETURN_PRICE_CLASS","SimulationGraphPlotter","productData","setNotional","setCurrency","setParticipationRate","setStartLevel","setIncomeBarrierEvents","setKeyDates","setAssetData","plotter","updateTimeScale","minAssetValue","maxAssetValue","previousResult","currentValue","updateCouponBarrierScale","plotAssetData","startLevelData","plotHorizontalLine","maturityLevelData","plotBarriers","plotBarrierLines","plotDots","_readData","_updateTimeScale","_updateCouponBarrierLimits","_updateAssetData","_updateProductLevels","components","Controls","Vue","config","productionTip","use","BootstrapVue","IconsPlugin","render","h","App","$mount"],"mappings":"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","file":"js/app.dc4b61e6.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/spplot/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Controls')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"controls\"},[_c('h1',[_vm._v(\"Structured Products Plot\")]),_c('p',[_vm._v(\" Select controls below to control the graphs. \")]),_c('b-dropdown',{attrs:{\"text\":\"Load Demo Product\",\"menu-class\":\"w-100\",\"block\":\"\"}},_vm._l((this.availableDemoProducts),function(product){return _c('b-dropdown-item-button',{key:product.code,on:{\"click\":function($event){return _vm.loadDemoProduct(product)}}},[_vm._v(\"[\"+_vm._s(product.code)+\"] \"+_vm._s(product.title)+\" \")])}),1),_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-tabs',{attrs:{\"pills\":\"\",\"card\":\"\",\"vertical\":\"\"}},[_c('b-tab',{attrs:{\"title\":\"Basic Controls\",\"active\":\"\"}},[_c('BasicControls',{attrs:{\"payload\":_vm.payload},on:{\"change\":_vm.basicControlChange}})],1),_c('b-tab',{attrs:{\"title\":\"Asset Data\"}},[_c('AssetDataControls',{attrs:{\"payload\":_vm.payload},on:{\"change\":_vm.assetDataControlChange}})],1),_c('b-tab',{attrs:{\"title\":\"Income Barrier Feature\"}},[_c('BarrierEventControls',{attrs:{\"startDate\":this.payload.keyDates.startDate,\"finalMaturityDate\":this.payload.keyDates.finalMaturityDate,\"payload\":_vm.payload},on:{\"change\":_vm.barrierEventControlChange}})],1),_c('b-tab',{attrs:{\"title\":\"Range Accrual Feature\"}},[_c('RangeAccrualControls',{attrs:{\"startDate\":this.payload.keyDates.startDate,\"finalMaturityDate\":this.payload.keyDates.finalMaturityDate,\"payload\":_vm.payload},on:{\"change\":_vm.rangeAccrualEventControlChange}})],1)],1)],1),_c('b-tabs',{attrs:{\"content-class\":\"mt-3\"}},[_c('b-tab',{attrs:{\"title\":\"Simulation\",\"active\":\"\"}},[_c('SimulationGraph',{attrs:{\"payload\":_vm.payload}})],1),_c('b-tab',{attrs:{\"title\":\"Payoff\"}},[_c('PayoffGraph',{attrs:{\"payload\":_vm.payload}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"4\"}},[_c('label',{attrs:{\"for\":\"input-number-of-income-events\"}},[_vm._v(\"Number of Income Events:\")])]),_c('b-col',{attrs:{\"sm\":\"8\"}},[_c('b-input-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\"},[_c('b-form-spinbutton',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"id\":\"input-number-of-income-events\",\"min\":\"0\",\"step\":\"1\",\"title\":\"Sets the total of income events for this product.\"},on:{\"change\":_vm.updateEvents},model:{value:(_vm.numberOfIncomeEvents),callback:function ($$v) {_vm.numberOfIncomeEvents=$$v},expression:\"numberOfIncomeEvents\"}}),_c('b-form-radio-group',{attrs:{\"buttons\":\"\",\"name\":\"radios-btn-default\"},on:{\"input\":_vm.onChange},model:{value:(_vm.isMemory),callback:function ($$v) {_vm.isMemory=$$v},expression:\"isMemory\"}},[_c('b-form-radio',{attrs:{\"value\":\"false\"}},[_vm._v(\"Normal\")]),_c('b-form-radio',{attrs:{\"value\":\"true\"}},[_vm._v(\"Memory\")])],1)],1)],1)],1),_c('b-row',{attrs:{\"cols\":\"2\"}},[_vm._l((_vm.eventDates),function(event){return [(event.visible)?_c('b-col',{key:event.index,attrs:{\"sm\":\"6\"}},[_c('b-card',{staticClass:\"text-center\",attrs:{\"bg-variant\":\"light\"}},[_c('b-input-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"append\":\"%\"}},[_c('b-form-input',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"type\":\"number\",\"state\":_vm.validatedIncomeBarrier(event.index),\"placeholder\":\"Enter Income Barrier as a percentage.\",\"title\":\"The barrier the asset has to reach for this event to activate.\"},on:{\"change\":function($event){return _vm.barrierDataChanged(event.index)}},model:{value:(event.incomeBarrier),callback:function ($$v) {_vm.$set(event, \"incomeBarrier\", $$v)},expression:\"event.incomeBarrier\"}})],1),_c('b-form-datepicker',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"size\":\"sm\",\"date-format-options\":{ year: 'numeric', month: 'numeric', day: 'numeric' },\"locale\":\"se\",\"min\":_vm.startDate,\"max\":_vm.finalMaturityDate,\"title\":\"The date of this event.\"},on:{\"input\":function($event){return _vm.barrierDataChanged(event.index)}},model:{value:(event.date),callback:function ($$v) {_vm.$set(event, \"date\", $$v)},expression:\"event.date\"}}),_c('b-form-invalid-feedback',{attrs:{\"id\":\"input-live-feedback\"}},[_vm._v(\" Barrier Income events need to be between Start Date and End Date. \")]),_c('b-input-group',{attrs:{\"append\":\"%\"}},[_c('b-form-radio-group',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"buttons\":\"\",\"name\":\"radios-btn-default\",\"title\":\"Payoff style of this event. Fixed will pay a fixed percent payoff when the event activates. Relative will pay the difference of the asset and the event level.\"},on:{\"input\":function($event){return _vm.barrierDataChanged(event.index)}},model:{value:(event.couponType),callback:function ($$v) {_vm.$set(event, \"couponType\", $$v)},expression:\"event.couponType\"}},[_c('b-form-radio',{attrs:{\"value\":\"fixed\"}},[_vm._v(\"Fixed\")]),_c('b-form-radio',{attrs:{\"value\":\"relative\"}},[_vm._v(\"Relative\")])],1),_c('b-form-input',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"id\":\"input-start-level\",\"type\":\"number\",\"disabled\":event.couponType === 'relative',\"placeholder\":\"Coupon Payoff\",\"title\":\"The Fixed payoff when the event activates.\"},on:{\"change\":function($event){return _vm.barrierDataChanged(event.index)}},model:{value:(event.couponPayoff),callback:function ($$v) {_vm.$set(event, \"couponPayoff\", $$v)},expression:\"event.couponPayoff\"}})],1)],1)],1):_vm._e()]})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function parseTenorToMonths(maturity) {\r\n    const regex = /^(\\d+)([YM])$/;\r\n    const matchedValues = maturity.match(regex);\r\n\r\n    if (matchedValues === null) {\r\n        return undefined;\r\n    }\r\n\r\n    switch (matchedValues[2]) {\r\n        case 'Y':\r\n            return 12 * matchedValues[1];\r\n        case 'M':\r\n            return matchedValues[1];\r\n        default:\r\n            return undefined;\r\n    }\r\n}\r\n\r\nexport function validDate(date) {\r\n    return !!date;\r\n}\r\n\r\nexport function validCurrency(currency) {\r\n    return currency !== \"\";\r\n}\r\n\r\nexport function parseCurrency(currency) {\r\n    return currency;\r\n}\r\n\r\nexport function formatCurrency(currency) {\r\n    return currency;\r\n}\r\nexport function parsePercentage(percentage) {\r\n    return Number(percentage) / 100.0;\r\n}\r\n\r\nexport function formatPercentage(participationRate) {\r\n    return `${participationRate * 100.0}`;\r\n}\r\n\r\nexport function validNotional(notional) {\r\n    return notional > 0;\r\n}\r\n\r\nexport function validBarrier(notional) {\r\n    return notional > 0;\r\n}\r\n\r\nexport function parseNotional(notional) {\r\n    return Number(notional);\r\n}\r\n\r\nexport function formatNotional(notional) {\r\n    return `${notional}`;\r\n}\r\n\r\n\r\n// const product = {\r\n//     \"investment\": \"FTSE 100 Index\",\r\n//     \"notional\": 10000,\r\n//     \"maturity\": \"6Y\",\r\n//     \"participation_rate\": 0.5\r\n// }","<template>\r\n    <b-container>\r\n        <b-row>\r\n            <b-col sm=\"4\">\r\n                <label for=\"input-number-of-income-events\">Number of Income Events:</label>\r\n            </b-col>\r\n            <b-col sm=\"8\">\r\n                <b-input-group class=\"mb-2 mr-sm-2 mb-sm-0\">\r\n                    <b-form-spinbutton id=\"input-number-of-income-events\"\r\n                                       min=\"0\"\r\n                                       step=\"1\"\r\n                                       v-model=\"numberOfIncomeEvents\"\r\n                                       @change=\"updateEvents\"\r\n                                       v-b-tooltip.hover\r\n                                       title=\"Sets the total of income events for this product.\"></b-form-spinbutton>\r\n                    <b-form-radio-group\r\n                            buttons\r\n                            v-model=\"isMemory\"\r\n                            name=\"radios-btn-default\"\r\n                            @input=\"onChange\">\r\n                        <b-form-radio value=false>Normal</b-form-radio>\r\n                        <b-form-radio value=true>Memory</b-form-radio>\r\n                    </b-form-radio-group>\r\n                </b-input-group>\r\n            </b-col>\r\n        </b-row>\r\n        <b-row cols=\"2\">\r\n            <template v-for=\"event in eventDates\">\r\n                <b-col v-if=\"event.visible\" v-bind:key=\"event.index\" sm=\"6\">\r\n                    <b-card bg-variant=\"light\" class=\"text-center\">\r\n                        <b-input-group append=\"%\" class=\"mb-2 mr-sm-2 mb-sm-0\">\r\n                            <b-form-input type=\"number\"\r\n                                          @change=\"barrierDataChanged(event.index)\"\r\n                                          :state=\"validatedIncomeBarrier(event.index)\"\r\n                                          v-model=\"event.incomeBarrier\"\r\n                                          placeholder=\"Enter Income Barrier as a percentage.\"\r\n                                          v-b-tooltip.hover\r\n                                          title=\"The barrier the asset has to reach for this event to activate.\">\r\n                            </b-form-input>\r\n                        </b-input-group>\r\n                        <b-form-datepicker @input=\"barrierDataChanged(event.index)\"\r\n                                           v-model=\"event.date\"\r\n                                           size=\"sm\"\r\n                                           :date-format-options=\"{ year: 'numeric', month: 'numeric', day: 'numeric' }\"\r\n                                           locale=\"se\"\r\n                                           :min=\"startDate\"\r\n                                           :max=\"finalMaturityDate\"\r\n                                           v-b-tooltip.hover title=\"The date of this event.\">\r\n                        </b-form-datepicker>\r\n                        <!-- This will only be shown if the preceding input has an invalid state -->\r\n                        <b-form-invalid-feedback id=\"input-live-feedback\">\r\n                            Barrier Income events need to be between Start Date and End Date.\r\n                        </b-form-invalid-feedback>\r\n\r\n                        <b-input-group append=\"%\">\r\n                            <b-form-radio-group\r\n                                    buttons\r\n                                    v-model=\"event.couponType\"\r\n                                    name=\"radios-btn-default\"\r\n                                    @input=\"barrierDataChanged(event.index)\"\r\n                                    v-b-tooltip.hover\r\n                                    title=\"Payoff style of this event. Fixed will pay a fixed percent payoff when the event activates. Relative will pay the difference of the asset and the event level.\">\r\n                                <b-form-radio value=\"fixed\">Fixed</b-form-radio>\r\n                                <b-form-radio value=\"relative\">Relative</b-form-radio>\r\n                            </b-form-radio-group>\r\n                            <b-form-input id=\"input-start-level\"\r\n                                          type=\"number\"\r\n                                          @change=\"barrierDataChanged(event.index)\"\r\n                                          :disabled=\"event.couponType === 'relative'\"\r\n                                          v-model=\"event.couponPayoff\"\r\n                                          placeholder=\"Coupon Payoff\"\r\n                                          v-b-tooltip.hover title=\"The Fixed payoff when the event activates.\">\r\n                            </b-form-input>\r\n                        </b-input-group>\r\n                    </b-card>\r\n                </b-col>\r\n            </template>\r\n        </b-row>\r\n    </b-container>\r\n</template>\r\n\r\n<script>\r\n    import {validBarrier} from \"@/components/utils.js\";\r\n    import * as moment from 'moment';\r\n\r\n    export default {\r\n        name: \"BarrierEventControls\",\r\n        props: {\r\n            startDate: String,\r\n            finalMaturityDate: String,\r\n            payload: Object\r\n        },\r\n        data() {\r\n            const defaultEventDates = []\r\n\r\n            return {\r\n                numberOfIncomeEvents: defaultEventDates.length,\r\n                eventDates: defaultEventDates,\r\n                isMemory: \"false\"\r\n            }\r\n        },\r\n        mounted() {\r\n            this.$nextTick(function () {\r\n                // Code that will run only after the entire view has been rendered\r\n                // Note that the plotter needs to wait for the #arc element before initializing.\r\n                this.onChange();\r\n            })\r\n        },\r\n        methods: {\r\n            onChange() {\r\n                // Re-raise the change event for this component\r\n                const barrierEvents = this.eventDates\r\n                    .filter(value => value.visible === true)\r\n                    .map(value => {\r\n                        return {\r\n                            incomeBarrier: value.incomeBarrier / 100.0,\r\n                            couponPayoff: value.couponPayoff / 100.0,\r\n                            date: value.date,\r\n                            couponType: value.couponType,\r\n                            isMemory: this.isMemory === \"true\"\r\n                        };\r\n                    });\r\n\r\n                this.$emit('change', barrierEvents);\r\n            },\r\n            validatedIncomeBarrier(index) {\r\n                return validBarrier(this.eventDates[index].incomeBarrier);\r\n            },\r\n            barrierDataChanged(index) {\r\n                this.eventDates[index].default = false;\r\n                this.onChange();\r\n            },\r\n            updateEvents() {\r\n                const startDate = moment(this.startDate);\r\n                const endDate = moment(this.finalMaturityDate);\r\n\r\n                const numberOfStoredEvents = this.eventDates.length;\r\n\r\n                const difference = endDate.diff(startDate, 'days');\r\n                const interval = Math.round(difference / (this.numberOfIncomeEvents + 1));\r\n\r\n                for (let index = 0; index < Math.max(this.numberOfIncomeEvents, numberOfStoredEvents); ++index) {\r\n\r\n                    // If we have data for more events than are shown, set them to hidden\r\n                    if (index < numberOfStoredEvents) {\r\n                        this.eventDates[index].visible = index < this.numberOfIncomeEvents;\r\n                    }\r\n                    const date = startDate.add(interval, 'd')\r\n                    const dateString = date.format(\"YYYY-MM-DD\");\r\n                    if (index < this.eventDates.length) {\r\n                        if (this.eventDates[index].default) {\r\n                            // If the value is the default value, change it\r\n                            this.eventDates[index].date = dateString;\r\n                        }\r\n                    } else {\r\n                        const result = {\r\n                            date: dateString,\r\n                            visible: true,\r\n                            default: true,\r\n                            index: index,\r\n                            incomeBarrier: 100,\r\n                            couponType: \"relative\",\r\n                            couponPayoff: 4\r\n                        };\r\n                        this.eventDates.push(result);\r\n                    }\r\n                }\r\n                this.onChange();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarrierEventControls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarrierEventControls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BarrierEventControls.vue?vue&type=template&id=778db18a&scoped=true&\"\nimport script from \"./BarrierEventControls.vue?vue&type=script&lang=js&\"\nexport * from \"./BarrierEventControls.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"778db18a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"3\"}},[_c('label',{attrs:{\"for\":\"input-data-file\"}},[_vm._v(\"Upload CSV Data:\")])]),_c('b-col',{attrs:{\"sm\":\"9\"}},[_c('b-form-file',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"id\":\"input-data-file\",\"state\":Boolean(_vm.rawAssetData),\"accept\":\"text/csv\",\"placeholder\":\"Choose a CSV file or drop it here...\",\"drop-placeholder\":\"Drop CSV file here...\",\"title\":\"Expects CSV file with columns for Date and Close/Open etc (with headers) that will be plotted in the Simulation Graph.\"},on:{\"input\":_vm.loadDataFile}})],1)],1),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"3\"}},[_c('label',{attrs:{\"for\":\"input-data-selector\"}},[_vm._v(\"Select Data Column:\")])]),_c('b-col',{attrs:{\"sm\":\"9\"}},[_c('b-form-select',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"id\":\"input-data-selector\",\"state\":Boolean(_vm.rawAssetData),\"options\":_vm.dataFileColumns,\"title\":\"Select which column from the imported CSV data you want to use for the underlying in the Simulation Graph.\"},on:{\"change\":_vm.updateAssetData},model:{value:(_vm.selectedDataFileColumn),callback:function ($$v) {_vm.selectedDataFileColumn=$$v},expression:\"selectedDataFileColumn\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-container>\r\n        <b-row>\r\n            <b-col sm=\"3\">\r\n                <label for=\"input-data-file\">Upload CSV Data:</label>\r\n            </b-col>\r\n            <b-col sm=\"9\">\r\n                <b-form-file id=\"input-data-file\"\r\n                             :state=\"Boolean(rawAssetData)\"\r\n                             @input=\"loadDataFile\"\r\n                             accept=\"text/csv\"\r\n                             placeholder=\"Choose a CSV file or drop it here...\"\r\n                             drop-placeholder=\"Drop CSV file here...\"\r\n                             v-b-tooltip.hover title=\"Expects CSV file with columns for Date and Close/Open etc (with headers) that will be plotted in the Simulation Graph.\">\r\n                </b-form-file>\r\n            </b-col>\r\n        </b-row>\r\n\r\n        <b-row>\r\n            <b-col sm=\"3\">\r\n                <label for=\"input-data-selector\">Select Data Column:</label>\r\n            </b-col>\r\n            <b-col sm=\"9\">\r\n                <b-form-select id=\"input-data-selector\"\r\n                               @change=\"updateAssetData\"\r\n                               :state=\"Boolean(rawAssetData)\"\r\n                               :options=\"dataFileColumns\"\r\n                               v-model=\"selectedDataFileColumn\"\r\n                               v-b-tooltip.hover title=\"Select which column from the imported CSV data you want to use for the underlying in the Simulation Graph.\">\r\n                </b-form-select>\r\n            </b-col>\r\n        </b-row>\r\n    </b-container>\r\n</template>\r\n\r\n<script>\r\n    import * as csvParse from \"csv-parse/lib/sync\";\r\n    const dateHeader = \"Date\";\r\n\r\n    export default {\r\n        name: \"AssetDataControls\",\r\n        props: {\r\n            payload: Object\r\n        },\r\n        data() {\r\n            const defaultAssetData = null;\r\n\r\n            return {\r\n                assetData: defaultAssetData,\r\n                rawAssetData: null,\r\n                dataFileColumns: [{value: null, text: \"None\"}],\r\n                selectedDataFileColumn: null\r\n            }\r\n        },\r\n        mounted() {\r\n            this.$nextTick(function () {\r\n                // Code that will run only after the entire view has been rendered\r\n                // Note that the plotter needs to wait for the #arc element before initializing.\r\n                this.onChange();\r\n            })\r\n        },\r\n        methods: {\r\n            onChange() {\r\n                // Re-raise the change event for this component\r\n                // startDate: defaultStartDate,\r\n                this.$emit('change',\r\n                    this.assetData);\r\n            },\r\n            updateAssetData() {\r\n                this.assetData = this.rawAssetData.map(data => {\r\n                    const stringValue = data[this.selectedDataFileColumn];\r\n                    return {\r\n                        date: data[dateHeader],\r\n                        value: Number(stringValue)\r\n                    };\r\n                });\r\n                this.onChange();\r\n            },\r\n            loadDataFile(file) {\r\n                if (!file) {\r\n                    return;\r\n                }\r\n                const fileReader = new FileReader();\r\n\r\n                fileReader.onload = event => {\r\n                    const fileData = event.target.result;\r\n                    const assetData = csvParse(fileData,\r\n                        {\r\n                            columns: true,\r\n                            skip_empty_lines: true\r\n                        });\r\n                    const headers = Object.keys(assetData[0]);\r\n\r\n                    if (headers.indexOf(dateHeader) === -1) {\r\n                        throw `Loaded file does not have a column for ${dateHeader}.`;\r\n                    }\r\n\r\n                    this.rawAssetData = assetData;\r\n                    const filtered = headers\r\n                        .filter(value => value !== dateHeader)\r\n                        .map(value => {\r\n                            return {\r\n                                value: value,\r\n                                text: value\r\n                            }\r\n                        });\r\n\r\n                    this.dataFileColumns = filtered;\r\n                    this.selectedDataFileColumn = filtered[0].value;\r\n                    this.updateAssetData();\r\n                };\r\n\r\n                fileReader.onerror = function () {\r\n                    this.dataFileColumns = [{value: null, text: \"None\"}];\r\n                    this.selectedDataFileColumn = null;\r\n                    this.assetData = null;\r\n                };\r\n\r\n                fileReader.readAsText(file);\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetDataControls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetDataControls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AssetDataControls.vue?vue&type=template&id=560c4a57&scoped=true&\"\nimport script from \"./AssetDataControls.vue?vue&type=script&lang=js&\"\nexport * from \"./AssetDataControls.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"560c4a57\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"3\"}},[_c('label',{attrs:{\"for\":\"input-start-date\"}},[_vm._v(\"Start:\")])]),_c('b-col',{attrs:{\"sm\":\"9\"}},[_c('b-form-datepicker',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"id\":\"input-start-date\",\"state\":_vm.validatedStartDate,\"title\":\"The Start Date for when the product is traded.\"},on:{\"input\":_vm.onChange},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}}),_c('b-form-invalid-feedback',{attrs:{\"id\":\"input-live-feedback\"}},[_vm._v(\" Start Date is invalid. \")])],1)],1),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"3\"}},[_c('label',{attrs:{\"for\":\"input-final-maturity-event\"}},[_vm._v(\"Final Maturity:\")])]),_c('b-col',{attrs:{\"sm\":\"9\"}},[_c('b-form-datepicker',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"id\":\"input-final-maturity-event\",\"state\":_vm.validatedFinalMaturityDate,\"min\":_vm.startDate,\"title\":\"The Maturity Date for when the product is finished. For Capital Protected products the original investment is returned.\"},on:{\"input\":_vm.onChange},model:{value:(_vm.finalMaturityDate),callback:function ($$v) {_vm.finalMaturityDate=$$v},expression:\"finalMaturityDate\"}}),_c('b-form-invalid-feedback',{attrs:{\"id\":\"input-live-feedback\"}},[_vm._v(\" Final Maturity Date is invalid. \")])],1)],1),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"3\"}},[_c('label',{attrs:{\"for\":\"input-start-level\"}},[_vm._v(\"Start Level:\")])]),_c('b-col',{attrs:{\"sm\":\"9\"}},[_c('b-input-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"append\":\"%\"}},[_c('b-form-input',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"id\":\"input-start-level\",\"type\":\"number\",\"state\":_vm.validatedStartLevel,\"placeholder\":\"Enter Participation Rate as a percentage.\",\"title\":\"Percentage of underlying at start which is considered for receiving return. This is plotted as a horizontal green line.\"},on:{\"change\":_vm.onChange},model:{value:(_vm.startLevel),callback:function ($$v) {_vm.startLevel=$$v},expression:\"startLevel\"}})],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"3\"}},[_c('label',{attrs:{\"for\":\"input-participation-rate\"}},[_vm._v(\"Participation Rate:\")])]),_c('b-col',{attrs:{\"sm\":\"9\"}},[_c('b-input-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"append\":\"%\"}},[_c('b-form-input',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"id\":\"input-participation-rate\",\"type\":\"number\",\"state\":_vm.validatedParticipationRate,\"placeholder\":\"Enter Participation Rate as a percentage.\",\"title\":\"The proportion of the increase in value you receive at maturity. If the asset value has increased by 50% and Participation Rate is 20%, you will receive 110% of your original investment on maturity.\"},on:{\"change\":_vm.onChange},model:{value:(_vm.participationRate),callback:function ($$v) {_vm.participationRate=$$v},expression:\"participationRate\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const currencyData = require(\"./resources/currencies.json\");\r\nexport const demoProducts = require(\"./resources/demo-products.json\");","<template>\r\n    <b-container>\r\n        <b-row>\r\n            <b-col sm=\"3\">\r\n                <label for=\"input-start-date\">Start:</label>\r\n            </b-col>\r\n            <b-col sm=\"9\">\r\n                <b-form-datepicker id=\"input-start-date\"\r\n                                   @input=\"onChange\"\r\n                                   :state=\"validatedStartDate\"\r\n                                   v-model=\"startDate\"\r\n                                   v-b-tooltip.hover title=\"The Start Date for when the product is traded.\">\r\n                </b-form-datepicker>\r\n                <!-- This will only be shown if the preceding input has an invalid state -->\r\n                <b-form-invalid-feedback id=\"input-live-feedback\">\r\n                    Start Date is invalid.\r\n                </b-form-invalid-feedback>\r\n            </b-col>\r\n        </b-row>\r\n        <b-row>\r\n            <b-col sm=\"3\">\r\n                <label for=\"input-final-maturity-event\">Final Maturity:</label>\r\n            </b-col>\r\n            <b-col sm=\"9\">\r\n                <b-form-datepicker id=\"input-final-maturity-event\"\r\n                                   @input=\"onChange\"\r\n                                   :state=\"validatedFinalMaturityDate\"\r\n                                   :min=\"startDate\"\r\n                                   v-model=\"finalMaturityDate\"\r\n                                   v-b-tooltip.hover title=\"The Maturity Date for when the product is finished. For Capital Protected products the original investment is returned.\">\r\n                </b-form-datepicker>\r\n                <!-- This will only be shown if the preceding input has an invalid state -->\r\n                <b-form-invalid-feedback id=\"input-live-feedback\">\r\n                    Final Maturity Date is invalid.\r\n                </b-form-invalid-feedback>\r\n            </b-col>\r\n        </b-row>\r\n        <b-row>\r\n            <b-col sm=\"3\">\r\n                <label for=\"input-start-level\">Start Level:</label>\r\n            </b-col>\r\n            <b-col sm=\"9\">\r\n                <b-input-group append=\"%\" class=\"mb-2 mr-sm-2 mb-sm-0\">\r\n                    <b-form-input id=\"input-start-level\"\r\n                                  type=\"number\"\r\n                                  @change=\"onChange\"\r\n                                  :state=\"validatedStartLevel\"\r\n                                  v-model=\"startLevel\"\r\n                                  placeholder=\"Enter Participation Rate as a percentage.\"\r\n                                  v-b-tooltip.hover title=\"Percentage of underlying at start which is considered for receiving return. This is plotted as a horizontal green line.\">\r\n                    </b-form-input>\r\n                </b-input-group>\r\n            </b-col>\r\n        </b-row>\r\n\r\n        <b-row>\r\n            <b-col sm=\"3\">\r\n                <label for=\"input-participation-rate\">Participation Rate:</label>\r\n            </b-col>\r\n            <b-col sm=\"9\">\r\n                <b-input-group append=\"%\" class=\"mb-2 mr-sm-2 mb-sm-0\">\r\n                    <b-form-input id=\"input-participation-rate\"\r\n                                  type=\"number\"\r\n                                  @change=\"onChange\"\r\n                                  :state=\"validatedParticipationRate\"\r\n                                  v-model=\"participationRate\"\r\n                                  placeholder=\"Enter Participation Rate as a percentage.\"\r\n                                  v-b-tooltip.hover title=\"The proportion of the increase in value you receive at maturity. If the asset value has increased by 50% and Participation Rate is 20%, you will receive 110% of your original investment on maturity.\">\r\n                    </b-form-input>\r\n                </b-input-group>\r\n            </b-col>\r\n        </b-row>\r\n    </b-container>\r\n</template>\r\n\r\n<script>\r\n    import {currencyData} from \"@/components/resources\";\r\n    import {\r\n        validCurrency,\r\n        validDate,\r\n        validNotional,\r\n        validBarrier\r\n    } from \"@/components/utils\";\r\n\r\n    export default {\r\n        name: \"BasicControls\",\r\n        props: {\r\n            payload: Object\r\n        },\r\n        data() {\r\n            return this.loadPayload();\r\n        },\r\n        mounted() {\r\n            this.$nextTick(function () {\r\n                // Code that will run only after the entire view has been rendered\r\n                // Note that the plotter needs to wait for the #arc element before initializing.\r\n                this.onChange();\r\n            })\r\n        },\r\n        computed: {\r\n            currencies() {\r\n                let result = [];\r\n                for (const key of Object.keys(currencyData)) {\r\n                    result.push(key);\r\n                }\r\n                return result;\r\n            },\r\n            validatedStartDate() {\r\n                return validDate(this.startDate);\r\n            },\r\n            validatedFinalMaturityDate() {\r\n                return validDate(this.finalMaturityDate);\r\n            },\r\n            validatedCurrency() {\r\n                return validCurrency(this.currency);\r\n            },\r\n            validatedParticipationRate() {\r\n                return this.participationRate >= 0;\r\n            },\r\n            validatedStartLevel() {\r\n                return validBarrier(this.startLevel);\r\n            },\r\n            validatedNotional() {\r\n                return validNotional(this.notional);\r\n            }\r\n        },\r\n        watch: {\r\n            payload: {\r\n                deep: true,\r\n                handler() {\r\n                    this.loadPayload();\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            loadPayload() {\r\n                return {\r\n                    startDate: this.payload.keyDates.startDate,\r\n                    finalMaturityDate: this.payload.keyDates.finalMaturityDate,\r\n                    notional: this.payload.notional,\r\n                    participationRate: this.payload.participationRate,\r\n                    startLevel: this.payload.startLevel,\r\n                    currency: this.payload.currency\r\n                }\r\n            },\r\n            onChange() {\r\n                // Re-raise the change event for this component\r\n                // startDate: defaultStartDate,\r\n                this.$emit('change',\r\n                    this.startDate,\r\n                    this.finalMaturityDate,\r\n                    this.notional,\r\n                    this.participationRate,\r\n                    this.startLevel,\r\n                    this.currency);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BasicControls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BasicControls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BasicControls.vue?vue&type=template&id=262f4667&scoped=true&\"\nimport script from \"./BasicControls.vue?vue&type=script&lang=js&\"\nexport * from \"./BasicControls.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"262f4667\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"4\"}},[_c('label',{attrs:{\"for\":\"input-number-of-accrual-events\"}},[_vm._v(\"Number of Accrual Events:\")])]),_c('b-col',{attrs:{\"sm\":\"8\"}},[_c('b-input-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\"},[_c('b-form-spinbutton',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"id\":\"input-number-of-accrual-events\",\"min\":\"0\",\"step\":\"1\",\"title\":\"Sets the total number of accrual events for this product.\"},on:{\"change\":_vm.updateEvents},model:{value:(_vm.numberOfAccrualEvents),callback:function ($$v) {_vm.numberOfAccrualEvents=$$v},expression:\"numberOfAccrualEvents\"}})],1)],1)],1),_c('b-row',{attrs:{\"cols\":\"2\"}},[_vm._l((_vm.eventDates),function(event){return [(event.visible)?_c('b-col',{key:event.index,attrs:{\"sm\":\"6\"}},[_c('b-card',{staticClass:\"text-center\",attrs:{\"bg-variant\":\"light\"}},[_c('b-form-radio-group',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"disabled\":_vm.isLastAccrualEvent(event.index),\"buttons\":\"\",\"name\":\"radios-btn-default\",\"title\":\"Type of Accrue event. Either only Accrue at this date or you Pay the Accrued capital and start a new Accrual period.\"},on:{\"input\":function($event){return _vm.accrualEventData(event.index)}},model:{value:(event.eventType),callback:function ($$v) {_vm.$set(event, \"eventType\", $$v)},expression:\"event.eventType\"}},[_c('b-form-radio',{attrs:{\"value\":\"accrue_only\"}},[_vm._v(\"Accrue Only\")]),_c('b-form-radio',{attrs:{\"value\":\"pay_and_accrue\"}},[_vm._v(\"Pay and Accrue\")])],1),_c('b-input-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"append\":\"%\"}},[_c('b-form-input',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"type\":\"number\",\"state\":_vm.validatedLowerLevel(event.index),\"placeholder\":\"Enter Accrual Event Lower Level as a percentage.\",\"title\":\"The asset needs to be within the Lower Level and Upper Level in order for money to accrue.\"},on:{\"change\":function($event){return _vm.accrualEventData(event.index)}},model:{value:(event.lowerLevel),callback:function ($$v) {_vm.$set(event, \"lowerLevel\", $$v)},expression:\"event.lowerLevel\"}})],1),_c('b-form-datepicker',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"size\":\"sm\",\"date-format-options\":{ year: 'numeric', month: 'numeric', day: 'numeric' },\"locale\":\"se\",\"min\":_vm.startDate,\"max\":_vm.finalMaturityDate,\"title\":\"The date of this event.\"},on:{\"input\":function($event){return _vm.accrualEventData(event.index)}},model:{value:(event.date),callback:function ($$v) {_vm.$set(event, \"date\", $$v)},expression:\"event.date\"}}),_c('b-form-invalid-feedback',{attrs:{\"id\":\"input-live-feedback\"}},[_vm._v(\" Barrier Income events need to be between Start Date and End Date. \")]),_c('b-input-group',{attrs:{\"append\":\"%\"}},[_c('b-form-input',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"id\":\"input-start-level\",\"type\":\"number\",\"disabled\":event.eventType === 'relative',\"placeholder\":\"Coupon Payoff\",\"title\":\"The Fixed payoff when the event activates.\"},on:{\"change\":function($event){return _vm.accrualEventData(event.index)}},model:{value:(event.couponPayoff),callback:function ($$v) {_vm.$set(event, \"couponPayoff\", $$v)},expression:\"event.couponPayoff\"}})],1)],1)],1):_vm._e()]})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-container>\r\n        <b-row>\r\n            <b-col sm=\"4\">\r\n                <label for=\"input-number-of-accrual-events\">Number of Accrual Events:</label>\r\n            </b-col>\r\n            <b-col sm=\"8\">\r\n                <b-input-group class=\"mb-2 mr-sm-2 mb-sm-0\">\r\n                    <b-form-spinbutton id=\"input-number-of-accrual-events\"\r\n                                       min=\"0\"\r\n                                       step=\"1\"\r\n                                       v-model=\"numberOfAccrualEvents\"\r\n                                       @change=\"updateEvents\"\r\n                                       v-b-tooltip.hover\r\n                                       title=\"Sets the total number of accrual events for this product.\"></b-form-spinbutton>\r\n                </b-input-group>\r\n            </b-col>\r\n        </b-row>\r\n        <b-row cols=\"2\">\r\n            <template v-for=\"event in eventDates\">\r\n                <b-col v-if=\"event.visible\" v-bind:key=\"event.index\" sm=\"6\">\r\n                    <b-card bg-variant=\"light\" class=\"text-center\">\r\n                        <b-form-radio-group\r\n                                :disabled=\"isLastAccrualEvent(event.index)\"\r\n                                buttons\r\n                                v-model=\"event.eventType\"\r\n                                name=\"radios-btn-default\"\r\n                                @input=\"accrualEventData(event.index)\"\r\n                                v-b-tooltip.hover\r\n                                title=\"Type of Accrue event. Either only Accrue at this date or you Pay the Accrued capital and start a new Accrual period.\">\r\n                            <b-form-radio value=\"accrue_only\">Accrue Only</b-form-radio>\r\n                            <b-form-radio value=\"pay_and_accrue\">Pay and Accrue</b-form-radio>\r\n                        </b-form-radio-group>\r\n                        <b-input-group append=\"%\" class=\"mb-2 mr-sm-2 mb-sm-0\">\r\n                            <b-form-input type=\"number\"\r\n                                          @change=\"accrualEventData(event.index)\"\r\n                                          :state=\"validatedLowerLevel(event.index)\"\r\n                                          v-model=\"event.lowerLevel\"\r\n                                          placeholder=\"Enter Accrual Event Lower Level as a percentage.\"\r\n                                          v-b-tooltip.hover\r\n                                          title=\"The asset needs to be within the Lower Level and Upper Level in order for money to accrue.\">\r\n                            </b-form-input>\r\n                        </b-input-group>\r\n                        <b-form-datepicker @input=\"accrualEventData(event.index)\"\r\n                                           v-model=\"event.date\"\r\n                                           size=\"sm\"\r\n                                           :date-format-options=\"{ year: 'numeric', month: 'numeric', day: 'numeric' }\"\r\n                                           locale=\"se\"\r\n                                           :min=\"startDate\"\r\n                                           :max=\"finalMaturityDate\"\r\n                                           v-b-tooltip.hover title=\"The date of this event.\">\r\n                        </b-form-datepicker>\r\n                        <!-- This will only be shown if the preceding input has an invalid state -->\r\n                        <b-form-invalid-feedback id=\"input-live-feedback\">\r\n                            Barrier Income events need to be between Start Date and End Date.\r\n                        </b-form-invalid-feedback>\r\n\r\n                        <b-input-group append=\"%\">\r\n                            <b-form-input id=\"input-start-level\"\r\n                                          type=\"number\"\r\n                                          @change=\"accrualEventData(event.index)\"\r\n                                          :disabled=\"event.eventType === 'relative'\"\r\n                                          v-model=\"event.couponPayoff\"\r\n                                          placeholder=\"Coupon Payoff\"\r\n                                          v-b-tooltip.hover title=\"The Fixed payoff when the event activates.\">\r\n                            </b-form-input>\r\n                        </b-input-group>\r\n                    </b-card>\r\n                </b-col>\r\n            </template>\r\n        </b-row>\r\n    </b-container>\r\n</template>\r\n\r\n<script>\r\n    import {validBarrier} from \"@/components/utils.js\";\r\n    import * as moment from 'moment';\r\n\r\n    export default {\r\n        name: \"RangeAccrualControls\",\r\n        props: {\r\n            startDate: String,\r\n            finalMaturityDate: String,\r\n            payload: Object\r\n        },\r\n        data() {\r\n            const defaultEventDates = []\r\n\r\n            return {\r\n                numberOfAccrualEvents: defaultEventDates.length,\r\n                eventDates: defaultEventDates\r\n            }\r\n        },\r\n        mounted() {\r\n            this.$nextTick(function () {\r\n                // Code that will run only after the entire view has been rendered\r\n                // Note that the plotter needs to wait for the #arc element before initializing.\r\n                this.onChange();\r\n            })\r\n        },\r\n        methods: {\r\n            onChange() {\r\n                // Re-raise the change event for this component\r\n                const barrierEvents = this.eventDates\r\n                    .filter(value => value.visible === true)\r\n                    .map(value => {\r\n                        return {\r\n                            lowerLevel: value.lowerLevel / 100.0,\r\n                            couponPayoff: value.couponPayoff / 100.0,\r\n                            date: value.date,\r\n                            eventType: value.eventType\r\n                        };\r\n                    });\r\n\r\n                this.$emit('change', barrierEvents);\r\n            },\r\n            validatedLowerLevel(index) {\r\n                return validBarrier(this.eventDates[index].lowerLevel);\r\n            },\r\n            validatedUpperLevel(index) {\r\n                return validBarrier(this.eventDates[index].lowerLevel);\r\n            },\r\n            accrualEventData(index) {\r\n                this.eventDates[index].default = false;\r\n                this.onChange();\r\n            },\r\n            updateEvents() {\r\n                const startDate = moment(this.startDate);\r\n                const endDate = moment(this.finalMaturityDate);\r\n\r\n                const numberOfStoredEvents = this.eventDates.length;\r\n\r\n                const difference = endDate.diff(startDate, 'days');\r\n                const interval = Math.round(difference / (this.numberOfAccrualEvents + 1));\r\n\r\n                for (let index = 0; index < Math.max(this.numberOfAccrualEvents, numberOfStoredEvents); ++index) {\r\n\r\n                    // If we have data for more events than are shown, set them to hidden\r\n                    if (index < numberOfStoredEvents) {\r\n                        this.eventDates[index].visible = index < this.numberOfAccrualEvents;\r\n                    }\r\n                    const date = startDate.add(interval, 'd')\r\n                    const dateString = date.format(\"YYYY-MM-DD\");\r\n                    if (index < this.eventDates.length) {\r\n                        if (this.eventDates[index].default) {\r\n                            // If the value is the default value, change it\r\n                            this.eventDates[index].date = dateString;\r\n                        }\r\n                    } else {\r\n                        const result = {\r\n                            date: dateString,\r\n                            visible: true,\r\n                            default: true,\r\n                            index: index,\r\n                            lowerLevel: 100,\r\n                            eventType: \"accrue_only\",\r\n                            couponPayoff: 4\r\n                        };\r\n                        this.eventDates.push(result);\r\n                    }\r\n                }\r\n\r\n                // Update the eventType for the final events to pay and accrue\r\n                this.eventDates = this.eventDates.map((data, index) => {\r\n                        if (this.isLastAccrualEvent(index)) {\r\n                            data.eventType = \"pay_and_accrue\";\r\n                        }\r\n                        return data;\r\n                    }\r\n                )\r\n\r\n                this.onChange();\r\n            },\r\n            isLastAccrualEvent(index) {\r\n                const maxDate = this.getLastAccrualEventDate();\r\n                return this.eventDates[index].format('YYYY-MM-DD') === maxDate.format('YYYY-MM-DD');\r\n            },\r\n            getLastAccrualEventDate() {\r\n                // The last visible event must be a payment event\r\n                const eventDates = this.eventDates\r\n                    .filter(value => value.visible === true)\r\n                    .map(value => moment(value.date));\r\n                return moment.max(eventDates);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RangeAccrualControls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RangeAccrualControls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RangeAccrualControls.vue?vue&type=template&id=035a7ba4&scoped=true&\"\nimport script from \"./RangeAccrualControls.vue?vue&type=script&lang=js&\"\nexport * from \"./RangeAccrualControls.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"035a7ba4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"A Payoff\")]),_c('b-form-textarea',{attrs:{\"id\":\"textarea\",\"placeholder\":\"Enter something...\",\"rows\":\"3\",\"max-rows\":\"6\"},on:{\"change\":_vm.updatePayload},model:{value:(_vm.payloadJson),callback:function ($$v) {_vm.payloadJson=$$v},expression:\"payloadJson\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <h1>A Payoff</h1>\r\n        <b-form-textarea\r\n                id=\"textarea\"\r\n                v-model=\"payloadJson\"\r\n                @change=\"updatePayload\"\r\n                placeholder=\"Enter something...\"\r\n                rows=\"3\"\r\n                max-rows=\"6\"\r\n        ></b-form-textarea>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"PayoffGraph\",\r\n        props: {\r\n            payload: Object\r\n        },\r\n        data() {\r\n            return {\r\n                payloadJson: this.parsePayloadJson()\r\n            }\r\n        },\r\n        watch: {\r\n            payload: {\r\n                deep: true,\r\n                handler() {\r\n                    this.payloadJson = this.parsePayloadJson();\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            updatePayload() {\r\n                try {\r\n                    const newPayload = JSON.parse(this.payloadJson);\r\n                    this.$emit(\"payload-changed\", newPayload);\r\n                } catch (e) {\r\n                    console.log(\"Warning: Invalid JSON in payload!\");\r\n                }\r\n            },\r\n            parsePayloadJson() {\r\n                return JSON.stringify(this.payload, null, 4);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PayoffGraph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PayoffGraph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PayoffGraph.vue?vue&type=template&id=4c388076&scoped=true&\"\nimport script from \"./PayoffGraph.vue?vue&type=script&lang=js&\"\nexport * from \"./PayoffGraph.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c388076\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',{staticClass:\"text-center\",attrs:{\"title\":\"Simulation Graph\",\"bg-variant\":\"light\",\"border-variant\":\"primary\"}},[_c('b-card-body',{attrs:{\"id\":\"arc\"}})],1),_c('b-form-textarea',{attrs:{\"id\":\"textarea\",\"placeholder\":\"Enter something...\",\"rows\":\"3\",\"max-rows\":\"6\"},on:{\"change\":_vm.updatePayload},model:{value:(_vm.payloadJson),callback:function ($$v) {_vm.payloadJson=$$v},expression:\"payloadJson\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as d3 from \"d3\";\r\n\r\nconst parseDateString = d3.timeParse(\"%Y%m%d\"); // Note: We remove the `-` in the parsing function below\r\nconst formatDateString = d3.timeFormat(\"%Y-%m-%d\");\r\n\r\nexport function parseDate(date) {\r\n    let dateString;\r\n    if (date instanceof Date) {\r\n        dateString = `${date.getFullYear()}${date.getMonth()}${date.getDate()}`\r\n    } else {\r\n        dateString = `${date}`.replace(/-/g, \"\") // This covers both the case of integer (19990909) and string (1999-09-09)\r\n    }\r\n\r\n    return parseDateString(dateString);\r\n}\r\n\r\nexport function formatDate(timeFormat) {\r\n    return formatDateString(timeFormat);\r\n}\r\n\r\nexport function formatPercent(decimal, precision) {\r\n    return d3.format(`.${precision}%`)(decimal)\r\n}","// import * as d3 from \"d3\";\r\nimport {formatDate, formatPercent} from \"./formatting-utils.js\";\r\n\r\nexport class Event {\r\n    date\r\n    value\r\n    comment\r\n    executed\r\n    dependentEvents\r\n\r\n    constructor(date, value, payoff, comment, executed, dependentEvents) {\r\n        this.date = date;\r\n        this.value = value;\r\n        this.payoff = payoff;\r\n        this.comment = comment;\r\n        this.executed = executed;\r\n        this.dependentEvents = dependentEvents;\r\n    }\r\n}\r\n\r\nexport class FinalMaturityEvent extends Event {\r\n    /* Capital Protected -> Get the investment back */\r\n\r\n    constructor(finalMaturityDate, startLevel, participationRate, maturityLevel) {\r\n\r\n        const executed = Boolean(maturityLevel);\r\n        let payoff = 0.0;\r\n        if (maturityLevel) {\r\n            const difference = maturityLevel - startLevel;\r\n            payoff = startLevel + (Math.max(0.0, difference) * participationRate);\r\n        }\r\n\r\n        let comment = `Date: ${formatDate(finalMaturityDate)}`;\r\n        if (executed) {\r\n            comment += `<br>Return on Maturity: ${formatPercent(payoff, 2)}`;\r\n        }\r\n        super(finalMaturityDate, payoff, payoff, comment, executed, null);\r\n    }\r\n}\r\n\r\nexport class IncomeBarrierEvent extends Event {\r\n\r\n    constructor(eventDate, assetValue, barrierLevel, couponType, couponPayoff, isMemory, previousEvent) {\r\n\r\n        const difference = assetValue - barrierLevel;\r\n        const executed = difference >= 0.0;\r\n\r\n        let payoff;\r\n        if (couponType === \"relative\") {\r\n            payoff = Math.max(difference, 0.0);\r\n        } else {\r\n            payoff = couponPayoff;\r\n        }\r\n\r\n        if (isMemory && executed && previousEvent) {\r\n            payoff += previousEvent.checkMemoryFeature();\r\n        }\r\n\r\n        let comment = `Date: ${formatDate(eventDate)}`;\r\n        comment += `<br>Income Payment: ${formatPercent(payoff, 2)}`;\r\n        if (!executed) {\r\n            comment += `<br>Not Executed`;\r\n        }\r\n\r\n        const dependentEvents = previousEvent ? [previousEvent] : null;\r\n\r\n        super(eventDate, barrierLevel, payoff, comment, executed, dependentEvents);\r\n\r\n    }\r\n\r\n    checkMemoryFeature() {\r\n\r\n        if (this.executed) {\r\n            return 0.0;\r\n        }\r\n\r\n        // Memory feature, recover any previously lost income events\r\n        let pastEventPayoffs = 0.0;\r\n        if (this.dependentEvents)\r\n            pastEventPayoffs = this.dependentEvents\r\n                .map(pastEvent => pastEvent.checkMemoryFeature())\r\n                .reduce((previous, current) => previous + current, pastEventPayoffs);\r\n\r\n        return this.payoff + pastEventPayoffs;\r\n\r\n    }\r\n}\r\n\r\n","import {FinalMaturityEvent, IncomeBarrierEvent} from \"./simulation-event.js\"\r\nimport {formatDate, parseDate} from \"./formatting-utils.js\"\r\n\r\nexport class SimulationModel {\r\n    notional; // Notional in currency\r\n    currency;\r\n    participationRate;\r\n    startLevel; // Start Level in percent\r\n    maturityLevel; // End Level in percent\r\n    maturityData;\r\n    startDate;\r\n    finalMaturityDate;\r\n    assetData;\r\n    fixing; // Fixing value in original currency\r\n    incomeBarrierEvents; // Barrier event data\r\n    returnEvents; // Events after executing\r\n\r\n    setNotional(notional) {\r\n        this.notional = Number(notional);\r\n        return this;\r\n    }\r\n\r\n    setCurrency(currency) {\r\n        this.currency = currency;\r\n        return this;\r\n    }\r\n\r\n    setParticipationRate(participationRate) {\r\n        this.participationRate = Number(participationRate);\r\n        return this;\r\n    }\r\n\r\n    setStartLevel(startLevel) {\r\n        this.startLevel = Number(startLevel);\r\n        return this;\r\n    }\r\n\r\n    setKeyDates(keyDates) {\r\n        const mandatoryDates = ['startDate', 'finalMaturityDate'];\r\n        mandatoryDates.forEach(mandatoryDate => {\r\n            if (!(Object.keys(keyDates).includes(mandatoryDate))) {\r\n                throw `Mandatory \"${mandatoryDate}\"-property is missing from the \"keyDates\" object.`;\r\n            }\r\n        });\r\n        // Parse key dates using d3\r\n        this.startDate = parseDate(keyDates.startDate);\r\n        this.finalMaturityDate = parseDate(keyDates.finalMaturityDate);\r\n        return this;\r\n    }\r\n\r\n    setIncomeBarrierEvents(incomeBarrierEvents) {\r\n        if (incomeBarrierEvents) {\r\n            this.incomeBarrierEvents = incomeBarrierEvents.map(data => {\r\n                return {\r\n                    date: parseDate(data.date),\r\n                    incomeBarrier: Number(data.incomeBarrier),\r\n                    couponType: data.couponType,\r\n                    couponPayoff: Number(data.couponPayoff),\r\n                    isMemory: Boolean(data.isMemory)\r\n                };\r\n            });\r\n        }\r\n        return this;\r\n    }\r\n\r\n\r\n    _parse_final_maturity_event() {\r\n        return new FinalMaturityEvent(\r\n            this.finalMaturityDate,\r\n            this.startLevel,\r\n            this.participationRate,\r\n            this.maturityLevel);\r\n    }\r\n\r\n    _parse_income_barrier_events() {\r\n        let parsedIncomeBarrierEvents = [];\r\n\r\n        if (this.incomeBarrierEvents) {\r\n            this.incomeBarrierEvents\r\n                .sort((first, second) => {\r\n                    if (first.date < second.date) return -1;\r\n                    if (first.date > second.date) return 1;\r\n                    return 0;\r\n                })\r\n                .forEach(event => {\r\n                    // Find the last date before the event date\r\n                    const eventAssetData = this.assetData.reduce(\r\n                        (previous, current) => {\r\n                            if (current.date <= event.date && previous.date < current.date) {\r\n                                return current;\r\n                            }\r\n                            return previous;\r\n                        },\r\n                        this.assetData[0]);\r\n\r\n                    const eventDate = event.date;\r\n                    const replacementDate = eventAssetData.date;\r\n                    if (parseDate(eventDate) !== parseDate(replacementDate)) {\r\n                        console.warn(`The selected underlying is missing data for event date ${eventDate}, used value for previous date ${replacementDate}.`)\r\n                    }\r\n\r\n                    const previousEvent = parsedIncomeBarrierEvents.slice(-1)[0];\r\n                    const incomeBarrierEvent = new IncomeBarrierEvent(\r\n                        event.date,\r\n                        eventAssetData.value,\r\n                        event.incomeBarrier,\r\n                        event.couponType,\r\n                        event.couponPayoff,\r\n                        event.isMemory,\r\n                        previousEvent);\r\n\r\n                    parsedIncomeBarrierEvents.push(incomeBarrierEvent);\r\n                });\r\n        }\r\n        return parsedIncomeBarrierEvents;\r\n    }\r\n\r\n    setAssetData(assetData) {\r\n        // Set the fixing to startDate\r\n        const fixing = assetData.find(data => data.date === formatDate(this.startDate));\r\n\r\n        if (!fixing) {\r\n            this.fixing = null;\r\n            this.maturityLevel = null;\r\n            console.warn(`Not possible to render graph since asset has no value for fixing date ${formatDate(this.startDate)}.`);\r\n            return this\r\n        }\r\n\r\n        this.fixing = Number(fixing.value)\r\n\r\n        // Get the End Level (value for End Date)\r\n        this.maturityData = assetData.find(data => data.date === formatDate(this.finalMaturityDate));\r\n        if (this.maturityData) {\r\n            this.maturityLevel = Number(this.maturityData.value) / this.fixing;\r\n        } else {\r\n            this.maturityLevel = null;\r\n        }\r\n\r\n        // Process the data for plotting\r\n        this.assetData = assetData\r\n            .map(data => {\r\n                return {\r\n                    date: parseDate(data.date),\r\n                    value: Number(data.value)\r\n                };\r\n            })\r\n            .filter(data => {\r\n                return data.date >= this.startDate && data.date <= this.finalMaturityDate;\r\n            })\r\n            .map(data => {\r\n                return {\r\n                    date: data.date,\r\n                    value: data.value / this.fixing\r\n                };\r\n            });\r\n\r\n        if (this.startLevel && this.maturityLevel) {\r\n            if (!this.participationRate && this.participationRate !== 0.0) {\r\n                console.warn(`Data is missing Participation Rate, assume 100%`)\r\n                this.participationRate = 1.0;\r\n            }\r\n\r\n            this._calculate_return_events();\r\n        }\r\n        return this;\r\n    }\r\n\r\n    _calculate_return_events() {\r\n        let returnEvents = [];\r\n        returnEvents = returnEvents.concat(this._parse_income_barrier_events())\r\n        returnEvents.push(this._parse_final_maturity_event());\r\n        this.returnEvents = returnEvents.sort((first, second) => {\r\n            if (first.date < second.date) return -1;\r\n            if (first.date > second.date) return 1;\r\n            return 0;\r\n        });\r\n    }\r\n}\r\n","import * as d3 from \"d3\";\r\n\r\nimport {formatPercent} from \"./formatting-utils.js\"\r\n\r\n// CSS Classes\r\nconst Y_RANGE_CLASS = \"spplotYAxis\";\r\nconst X_RANGE_CLASS = \"spplotXAxis\";\r\n\r\nconst X_LABEL = \"Time\";\r\nconst Y_LABEL = \"Coupon Level\";\r\n\r\nconst TRANSFORMATION_SPEED = 500;\r\n\r\nexport class SimulationPlotter {\r\n    svg;\r\n    xAxis;\r\n    yAxis;\r\n    xRange;\r\n    yRange;\r\n    width;\r\n    height;\r\n    margin;\r\n    tooltip;\r\n    bindTarget;\r\n\r\n    constructor(bindTarget, width, height, margin) {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.margin = margin;\r\n        this.bindTarget = bindTarget;\r\n\r\n        // Create SVG element with margins\r\n        this.svg = d3.select(bindTarget)\r\n            .append(\"svg\")\r\n            .attr(\"width\", width + margin.left + margin.right)\r\n            .attr(\"height\", height + margin.top + margin.bottom)\r\n            .append(\"g\")\r\n            .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\r\n\r\n        // You can't append a div to svg so you have to create a container\r\n        // This is why we do d3.select instead of this.svg below:\r\n        this.tooltip = d3.select(bindTarget)\r\n            .append(\"div\")\r\n            .attr(\"class\", \"tooltip\")\r\n            .style(\"opacity\", 0)\r\n            .style(\"background-color\", \"white\")\r\n            .style(\"border\", \"solid\")\r\n            .style(\"border-width\", \"2px\")\r\n            .style(\"border-radius\", \"5px\")\r\n            .style(\"padding\", \"5px\");\r\n\r\n        this._initializeTimeScale();\r\n        this._initializeCouponBarrierScale();\r\n    }\r\n\r\n    _initializeTimeScale(startDate, endDate) {\r\n        // Add x-axis\r\n        this.xAxis = d3.scaleTime()\r\n            .domain([startDate, endDate])\r\n            .range([0, this.width]);\r\n\r\n        this.xRange = this.svg.append(\"g\")\r\n            .attr(\"transform\", `translate(0,${this.height})`)\r\n            .call(d3.axisBottom(this.xAxis))\r\n            .attr(\"class\", X_RANGE_CLASS);\r\n\r\n        // Add x-axis label\r\n        this.svg.append(\"text\")\r\n            .attr(\"text-anchor\", \"end\")\r\n            .attr(\"x\", this.width)\r\n            .attr(\"y\", this.height + this.margin.top + 20)\r\n            .text(X_LABEL);\r\n    }\r\n\r\n    updateTimeScale(startDate, endDate) {\r\n        this.xAxis = d3.scaleTime()\r\n            .domain([startDate, endDate])\r\n            .range([0, this.width]);\r\n\r\n        this.xRange.transition()\r\n            .duration(TRANSFORMATION_SPEED)\r\n            .call(d3.axisBottom(this.xAxis));\r\n    }\r\n\r\n    _initializeCouponBarrierScale() {\r\n        // Add y-axis\r\n        this.yAxis = d3.scaleLinear()\r\n            .domain([0, 2])\r\n            .range([this.height, 0]);\r\n\r\n        this.yRange = this.svg.append(\"g\")\r\n            .call(d3.axisLeft(this.yAxis)\r\n                .tickFormat(label => formatPercent(label, 0)))\r\n            .attr(\"class\", Y_RANGE_CLASS);\r\n\r\n        // Add y-axis label\r\n        this.svg.append(\"text\")\r\n            .attr(\"text-anchor\", \"end\")\r\n            .attr(\"transform\", \"rotate(-90)\") // Note: Needed so that text does not rotate with axis\r\n            .attr(\"y\", -this.margin.left + 20)\r\n            .attr(\"x\", -this.margin.top)\r\n            .text(Y_LABEL);\r\n    }\r\n\r\n    updateCouponBarrierScale(yMin, yMax) {\r\n        this.yAxis = d3.scaleLinear()\r\n            .domain([yMin, yMax])\r\n            .range([this.height, 0]);\r\n\r\n        this.yRange.transition()\r\n            .duration(TRANSFORMATION_SPEED)\r\n            .call(d3.axisLeft(this.yAxis)\r\n                .tickFormat(label => formatPercent(label, 0)));\r\n    }\r\n\r\n    plotAssetData(data, identifier, strokeColor, strokeWidth) {\r\n        // TODO: Something like in this link: https://observablehq.com/@d3/line-with-missing-data\r\n        // Horizontal line: https://observablehq.com/@d3/index-chart\r\n        const dataLine = this.svg\r\n            .selectAll(`.${identifier}`)\r\n            .data([data], d => d.value);\r\n\r\n        dataLine.enter()\r\n            .append(\"path\")\r\n            .attr(\"class\", identifier)\r\n            .merge(dataLine)\r\n            .transition()\r\n            .duration(TRANSFORMATION_SPEED)\r\n            .attr(\"d\", d3.line()\r\n                .curve(d3.curveStepBefore)\r\n                .x(d => this.xAxis(d.date))\r\n                .y(d => this.yAxis(d.value)))\r\n            .attr(\"fill\", \"none\")\r\n            .attr(\"stroke\", strokeColor)\r\n            .attr(\"stroke-width\", strokeWidth);\r\n\r\n        return dataLine;\r\n    }\r\n\r\n    plotHorizontalLine(data, identifier, strokeColor, strokeWidth) {\r\n        const dataLine = this.svg\r\n            .selectAll(`.${identifier}`)\r\n            .data([data], d => d.value);\r\n\r\n        dataLine.enter()\r\n            .append(\"path\")\r\n            .attr(\"class\", identifier)\r\n            .merge(dataLine)\r\n            .transition()\r\n            .duration(TRANSFORMATION_SPEED)\r\n            .attr(\"d\", d3.line()\r\n                .x(d => this.xAxis(d.date))\r\n                .y(d => this.yAxis(d.value)))\r\n            .style(\"opacity\", 0.5)\r\n            .style(\"fill\", \"none\")\r\n            .style(\"stroke\", strokeColor)\r\n            .style(\"stroke-width\", strokeWidth);\r\n\r\n        return dataLine;\r\n    }\r\n\r\n    plotBarrierLines(data, identifier, strokeColor) {\r\n        const existingLines = this.svg\r\n            .selectAll(`.${identifier}`)\r\n            .nodes();\r\n\r\n        let index = 0;\r\n        const numberOfIterations = Math.max(data.length, existingLines.length)\r\n        while (index < numberOfIterations) {\r\n            if (index < existingLines.length && index < data.length) {\r\n                // Move existing line\r\n                d3.select(existingLines[index])\r\n                    .transition()\r\n                    .duration(TRANSFORMATION_SPEED)\r\n                    .attr(\"x1\", this.xAxis(data[index].date))\r\n                    .attr(\"x2\", this.xAxis(data[index].date))\r\n                    .attr(\"y1\", this.yAxis(0.0))\r\n                    .attr(\"y2\", this.yAxis(data[index].value));\r\n            } else if (index < data.length) {\r\n                // Create new line\r\n                this.svg.append(\"line\")\r\n                    .attr(\"class\", `${identifier}`)\r\n                    .attr(\"stroke-dasharray\", \"5,5\")\r\n                    .attr(\"x1\", this.xAxis(data[index].date))\r\n                    .attr(\"x2\", this.xAxis(data[index].date))\r\n                    .attr(\"y1\", this.yAxis(0.0))\r\n                    .attr(\"y2\", this.yAxis(0.0))\r\n                    .attr(\"stroke-width\", 0.5)\r\n                    .attr(\"fill\", \"none\")\r\n                    .attr(\"stroke\", strokeColor)\r\n                    .transition()\r\n                    .duration(TRANSFORMATION_SPEED)\r\n                    .attr(\"y2\", this.yAxis(data[index].value));\r\n            } else {\r\n                // Delete existing line\r\n                d3.select(existingLines[index])\r\n                    .transition()\r\n                    .duration(TRANSFORMATION_SPEED)\r\n                    .attr(\"y2\", this.yAxis(0.0))\r\n                    .remove();\r\n            }\r\n            index = index + 1;\r\n        }\r\n    }\r\n\r\n    plotDots(data, identifier, fillColor) {\r\n\r\n        const tooltip = this.tooltip;\r\n        const margin = this.margin;\r\n\r\n\r\n        // Three function that change the tooltip when user hover / move / leave a cell\r\n        const mouseover = function () {\r\n            // Add black outline when entering circle\r\n            tooltip.style(\"opacity\", 1)\r\n            d3.select(this)\r\n                .style(\"stroke\", \"black\")\r\n                .style(\"opacity\", 1)\r\n        }\r\n        const mousemove = function (data) {\r\n            // Show pop-up tooltip\r\n            tooltip.html(data.comment)\r\n                .style(\"opacity\", 1)\r\n                .style(\"left\", `${margin.left + d3.mouse(this)[0]}px`)\r\n                .style(\"top\", `${margin.top + d3.mouse(this)[1]}px`);\r\n        }\r\n        const mouseleave = function () {\r\n            // Remove black outline when entering circle\r\n            tooltip\r\n                .style(\"opacity\", 0)\r\n            d3.select(this)\r\n                .style(\"stroke\", \"none\")\r\n                .style(\"opacity\", 0.8)\r\n        }\r\n\r\n        const dots = this.svg\r\n            .selectAll(`.${identifier}`)\r\n            .data(data);\r\n\r\n        dots.enter()\r\n            .append(\"circle\")\r\n            .on(\"mouseover\", mouseover)\r\n            .on(\"mousemove\", mousemove)\r\n            .on(\"mouseleave\", mouseleave)\r\n            .attr(\"class\", identifier)\r\n            .merge(dots)\r\n            .transition()\r\n            .duration(TRANSFORMATION_SPEED)\r\n            .attr(\"r\", 3)\r\n            .attr(\"cy\", d => this.yAxis(d.value))\r\n            .attr(\"cx\", d => this.xAxis(d.date))\r\n            .style(\"fill\", fillColor);\r\n\r\n    }\r\n\r\n}\r\n","import {SimulationModel} from \"./src/simulation-model.js\"\r\nimport {SimulationPlotter} from \"./src/simulation-plotter.js\"\r\n\r\n// CSS Classes\r\nconst ASSET_DATA_CLASS = \"spPlotAssetLine\"\r\nconst START_LINE_CLASS = \"spPlotStartLine\"\r\nconst END_LINE_CLASS = \"spPlotEndLine\"\r\nconst BARRIER_EVENT_CLASS = \"spPlotBarrierEventLines\"\r\nconst RETURN_PRICE_CLASS = \"spPlotReturnedPrice\"\r\n\r\nexport class SimulationGraphPlotter {\r\n    // Original inputs, mutable\r\n    productData;\r\n    assetData;\r\n    plotter;\r\n    model;\r\n\r\n    bind(bindTarget, width, height, product, margin) {\r\n        // Size of graph\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        this.bindTarget = bindTarget;\r\n        this.productData = product;\r\n        this.margin = margin;\r\n\r\n        return this;\r\n    }\r\n\r\n    _readData() {\r\n        this.model = new SimulationModel()\r\n            .setNotional(this.productData.notional)\r\n            .setCurrency(this.productData.currency)\r\n            .setParticipationRate(this.productData.participationRate)\r\n            .setStartLevel(this.productData.startLevel)\r\n            .setIncomeBarrierEvents(this.productData.incomeBarrierEvents)\r\n            .setKeyDates(this.productData.keyDates);\r\n        if (this.productData.assetData) {\r\n            this.model.setAssetData(this.productData.assetData);\r\n        }\r\n    }\r\n\r\n    _updateTimeScale() {\r\n        this.plotter.updateTimeScale(this.model.startDate, this.model.finalMaturityDate);\r\n    }\r\n\r\n    _updateCouponBarrierLimits() {\r\n        // When we have asset data, update the y-axis (coupon level axis) based on data max\r\n        if (this.model.assetData) {\r\n            const minAssetValue = 0.0;\r\n            const maxAssetValue = this.model.assetData.reduce(\r\n                (previousResult, currentValue) => Math.max(previousResult, currentValue.value),\r\n                minAssetValue);\r\n            this.plotter.updateCouponBarrierScale(minAssetValue, maxAssetValue + 0.1);\r\n        }\r\n    }\r\n\r\n    _updateAssetData() {\r\n        // When we have asset data, plot it\r\n        if (this.model.assetData) {\r\n            this.plotter.plotAssetData(this.model.assetData, ASSET_DATA_CLASS, \"black\", 1);\r\n        }\r\n    }\r\n\r\n    _updateProductLevels() {\r\n        /*\r\n        * Start Level : Input in percent, straight line\r\n        * End Level: [Only when asset available] Whatever the asset is at the End Date\r\n        * Return Events: Various return events, indicated by dots\r\n        *  */\r\n\r\n        if (this.model.startLevel) {\r\n            const startLevelData = [\r\n                {date: this.model.startDate, value: Number(this.model.startLevel)},\r\n                {date: this.model.finalMaturityDate, value: Number(this.model.startLevel)}\r\n            ]\r\n\r\n            this.plotter.plotHorizontalLine(startLevelData, START_LINE_CLASS, \"green\", 1);\r\n        }\r\n\r\n        if (this.model.maturityLevel) {\r\n            const maturityLevelData = [\r\n                {date: this.model.startDate, value: Number(this.model.maturityLevel)},\r\n                {date: this.model.finalMaturityDate, value: Number(this.model.maturityLevel)}\r\n            ]\r\n\r\n            this.plotter.plotHorizontalLine(maturityLevelData, END_LINE_CLASS, \"blue\", 1);\r\n        }\r\n\r\n        if (this.model.incomeBarrierEvents) {\r\n            const plotBarriers = this.model.incomeBarrierEvents.map(event => {\r\n                return {\r\n                    value: event.incomeBarrier,\r\n                    date: event.date\r\n                }\r\n            });\r\n\r\n            this.plotter.plotBarrierLines(plotBarriers, BARRIER_EVENT_CLASS, \"orange\");\r\n        }\r\n\r\n        if (this.model.returnEvents) {\r\n\r\n            this.plotter.plotDots(this.model.returnEvents,\r\n                RETURN_PRICE_CLASS,\r\n                d => d.executed === true ? \"green\" : \"gray\");\r\n        }\r\n    }\r\n\r\n    plot() {\r\n        // Lazy load the SVG & Axis\r\n        this._readData();\r\n        if (!this.plotter) {\r\n            this.plotter = new SimulationPlotter(\r\n                this.bindTarget,\r\n                this.width,\r\n                this.height,\r\n                this.margin);\r\n        }\r\n        // Graph scaling\r\n        this._updateTimeScale(); // Update X-axis\r\n        this._updateCouponBarrierLimits(); // Update Y-axis\r\n        // Underlying data\r\n        this._updateAssetData(); // Update asset data line\r\n        // Events\r\n        this._updateProductLevels(); // Update Start/End level lines\r\n    }\r\n\r\n\r\n}\r\n\r\n","<template>\r\n    <div>\r\n        <b-card title=\"Simulation Graph\" bg-variant=\"light\" class=\"text-center\" border-variant=\"primary\">\r\n            <b-card-body id=\"arc\">\r\n            </b-card-body>\r\n        </b-card>\r\n        <b-form-textarea\r\n                id=\"textarea\"\r\n                v-model=\"payloadJson\"\r\n                @change=\"updatePayload\"\r\n                placeholder=\"Enter something...\"\r\n                rows=\"3\"\r\n                max-rows=\"6\"\r\n        ></b-form-textarea>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {SimulationGraphPlotter} from 'spplotlib'\r\n\r\n    export default {\r\n        name: \"SimulationGraph\",\r\n        props: {\r\n            payload: Object\r\n        },\r\n        created() {\r\n            const margin = {\r\n                top: 20,\r\n                right: 20,\r\n                bottom: 40,\r\n                left: 60\r\n            };\r\n\r\n            this.plotter = new SimulationGraphPlotter()\r\n                .bind(\r\n                    \"#arc\",\r\n                    this.canvasWidth,\r\n                    this.canvasHeight,\r\n                    this.payload,\r\n                    margin);\r\n        },\r\n        mounted() {\r\n            this.$nextTick(function () {\r\n                // Code that will run only after the entire view has been rendered\r\n                // Note that the plotter needs to wait for the #arc element before initializing.\r\n                this.plotter.plot();\r\n            })\r\n        },\r\n        data() {\r\n            const defaultWidth = 600;\r\n            const defaultHeight = 300;\r\n\r\n            return {\r\n                payloadJson: this.parsePayloadJson(),\r\n                canvasWidth: defaultWidth,\r\n                canvasHeight: defaultHeight,\r\n                plotter: null\r\n            };\r\n        },\r\n        watch: {\r\n            payload: {\r\n                deep: true,\r\n                handler() {\r\n                    this.payloadJson = this.parsePayloadJson();\r\n                    this.plotter.plot();\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            updatePayload() {\r\n                try {\r\n                    const newPayload = JSON.parse(this.payloadJson);\r\n                    this.$emit(\"payload-changed\", newPayload);\r\n                } catch (e) {\r\n                    console.log(\"Warning: Invalid JSON in payload!\");\r\n                }\r\n            },\r\n            parsePayloadJson() {\r\n                return JSON.stringify(this.payload, null, 4);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationGraph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimulationGraph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SimulationGraph.vue?vue&type=template&id=c857018e&scoped=true&\"\nimport script from \"./SimulationGraph.vue?vue&type=script&lang=js&\"\nexport * from \"./SimulationGraph.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c857018e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"controls\">\r\n        <h1>Structured Products Plot</h1>\r\n        <p>\r\n            Select controls below to control the graphs.\r\n        </p>\r\n        <b-dropdown text=\"Load Demo Product\"\r\n                    menu-class=\"w-100\"\r\n                    block>\r\n            <b-dropdown-item-button\r\n                    v-for=\"product in this.availableDemoProducts\"\r\n                    v-bind:key=\"product.code\"\r\n                    @click=\"loadDemoProduct(product)\"\r\n            >[{{product.code}}] {{product.title}}\r\n            </b-dropdown-item-button>\r\n        </b-dropdown>\r\n        <b-card no-body>\r\n            <b-tabs pills card vertical>\r\n                <b-tab title=\"Basic Controls\" active>\r\n                    <BasicControls @change=\"basicControlChange\"\r\n                                   :payload=\"payload\">\r\n                    </BasicControls>\r\n                </b-tab>\r\n                <b-tab title=\"Asset Data\">\r\n                    <AssetDataControls @change=\"assetDataControlChange\"\r\n                                       :payload=\"payload\"></AssetDataControls>\r\n                </b-tab>\r\n                <b-tab title=\"Income Barrier Feature\">\r\n                    <BarrierEventControls @change=\"barrierEventControlChange\"\r\n                                          v-bind:startDate=\"this.payload.keyDates.startDate\"\r\n                                          v-bind:finalMaturityDate=\"this.payload.keyDates.finalMaturityDate\"\r\n                                          :payload=\"payload\">\r\n                    </BarrierEventControls>\r\n                </b-tab>\r\n                <b-tab title=\"Range Accrual Feature\">\r\n                    <RangeAccrualControls @change=\"rangeAccrualEventControlChange\"\r\n                                          v-bind:startDate=\"this.payload.keyDates.startDate\"\r\n                                          v-bind:finalMaturityDate=\"this.payload.keyDates.finalMaturityDate\"\r\n                                          :payload=\"payload\">\r\n                    </RangeAccrualControls>\r\n                </b-tab>\r\n            </b-tabs>\r\n        </b-card>\r\n\r\n        <b-tabs content-class=\"mt-3\">\r\n            <b-tab title=\"Simulation\" active>\r\n                <SimulationGraph :payload=\"payload\"/>\r\n            </b-tab>\r\n            <b-tab title=\"Payoff\">\r\n                <PayoffGraph :payload=\"payload\"/>\r\n            </b-tab>\r\n        </b-tabs>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import BarrierEventControls from '@/components/controls/BarrierEventControls.vue'\r\n    import AssetDataControls from '@/components/controls/AssetDataControls.vue'\r\n    import BasicControls from '@/components/controls/BasicControls.vue'\r\n    import RangeAccrualControls from '@/components/controls/RangeAccrualControls.vue'\r\n    import PayoffGraph from '@/components/canvas/PayoffGraph.vue'\r\n    import SimulationGraph from '@/components/canvas/SimulationGraph.vue'\r\n    import {\r\n        parseNotional,\r\n        parsePercentage,\r\n        parseCurrency\r\n    } from \"@/components/utils.js\";\r\n    import {demoProducts} from \"@/components/resources.js\";\r\n\r\n    export default {\r\n        name: 'Controls',\r\n        components: {\r\n            PayoffGraph: PayoffGraph,\r\n            SimulationGraph: SimulationGraph,\r\n            BasicControls: BasicControls,\r\n            BarrierEventControls: BarrierEventControls,\r\n            AssetDataControls: AssetDataControls,\r\n            RangeAccrualControls: RangeAccrualControls\r\n        },\r\n        data() {\r\n            const defaultCurrency = \"USD\";\r\n            const defaultStartDate = \"2019-03-01\";\r\n            const defaultFinalMaturityDate = \"2020-03-02\";\r\n            const defaultParticipationRate = 50;\r\n            const defaultStartLevel = 100;\r\n            const defaultNotional = 10000;\r\n\r\n            return {\r\n                payload: {\r\n                    keyDates: {\r\n                        startDate: defaultStartDate,\r\n                        finalMaturityDate: defaultFinalMaturityDate\r\n                    },\r\n                    notional: defaultNotional,\r\n                    participationRate: defaultParticipationRate,\r\n                    startLevel: defaultStartLevel,\r\n                    currency: defaultCurrency,\r\n                    assetData: null,\r\n                    incomeBarrierEvents: [],\r\n                    rangeAccrualEvents: []\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            basicControlChange(startDate,\r\n                               finalMaturityDate,\r\n                               notional,\r\n                               participationRate,\r\n                               startLevel,\r\n                               currency) {\r\n                this.payload.keyDates.startDate = startDate\r\n                this.payload.keyDates.finalMaturityDate = finalMaturityDate;\r\n                this.payload.notional = parseNotional(notional);\r\n                this.payload.participationRate = parsePercentage(participationRate);\r\n                this.payload.startLevel = parsePercentage(startLevel);\r\n                this.payload.currency = parseCurrency(currency);\r\n\r\n            },\r\n            assetDataControlChange(assetData) {\r\n                this.payload.assetData = assetData;\r\n            },\r\n            barrierEventControlChange(incomeBarrierEvents) {\r\n                this.payload.incomeBarrierEvents = incomeBarrierEvents;\r\n            },\r\n            rangeAccrualEventControlChange(rangeAccrualEvents) {\r\n                this.payload.rangeAccrualEvents = rangeAccrualEvents;\r\n            },\r\n            loadDemoProduct(product) {\r\n                this.payload = {...product.payload};\r\n            }\r\n        },\r\n        computed: {\r\n            availableDemoProducts() {\r\n                return demoProducts;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Controls.vue?vue&type=template&id=5bcc30cc&scoped=true&\"\nimport script from \"./Controls.vue?vue&type=script&lang=js&\"\nexport * from \"./Controls.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bcc30cc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <Controls/>\n  </div>\n</template>\n\n<script>\nimport Controls from './components/Controls.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    Controls: Controls\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=306208e5&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport { BootstrapVue, IconsPlugin } from 'bootstrap-vue'\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\r\n\r\nVue.config.productionTip = false\r\nVue.use(BootstrapVue)\r\nVue.use(IconsPlugin)\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n"],"sourceRoot":""}